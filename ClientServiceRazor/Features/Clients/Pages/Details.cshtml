@page
@model ClientServiceRazor.Features.Clients.Pages.Details

@{
    Layout = "/Pages/Shared/_Layout.cshtml";
    ViewData["Title"] = "Client Details";
}

<main class="container py-4">
    <section>
        <header class="mb-4">
            <h1 class="h3 fw-light">Client Details</h1>
        </header>
        
        <form method="post" class="needs-validation">
            @Html.AntiForgeryToken()
            
            <div class="row g-3">
                <div class="col-md-4">
                    <label asp-for="NewClient.Surname" class="form-label small text-muted">Surname</label>
                    <input asp-for="NewClient.Surname" class="form-control form-control-sm" />
                    <span asp-validation-for="NewClient.Surname" class="text-danger small"></span>
                </div>
                
                <div class="col-md-4">
                    <label asp-for="NewClient.FirstName" class="form-label small text-muted">First Name</label>
                    <input asp-for="NewClient.FirstName" class="form-control form-control-sm" />
                    <span asp-validation-for="NewClient.FirstName" class="text-danger small"></span>
                </div>
                
                <div class="col-md-4">
                    <label asp-for="NewClient.Patronymic" class="form-label small text-muted">Patronymic</label>
                    <input asp-for="NewClient.Patronymic" class="form-control form-control-sm" />
                    <span asp-validation-for="NewClient.Patronymic" class="text-danger small"></span>
                </div>
                
                <div class="col-md-6">
                    <label asp-for="NewClient.Email" class="form-label small text-muted">Email</label>
                    <input asp-for="NewClient.Email" type="email" class="form-control form-control-sm" />
                    <span asp-validation-for="NewClient.Email" class="text-danger small"></span>
                </div>
                
                <div class="col-md-6">
                    <label asp-for="NewClient.BirthDate" class="form-label small text-muted">Birth Date</label>
                    <input asp-for="NewClient.BirthDate" type="date" class="form-control form-control-sm" />
                    <span asp-validation-for="NewClient.BirthDate" class="text-danger small"></span>
                </div>
            </div>
            
            <div class="mt-3">
                <button type="submit" class="btn btn-dark btn-sm px-4">Update Client</button>
                <a asp-page="/Features/Clients/Pages/Address" asp-route-id="@Model.ClientId" class="btn btn-outline-primary btn-sm px-4 ms-2">Manage Address</a>
                <a asp-page="/Features/Clients/Pages/Index" class="btn btn-outline-secondary btn-sm px-4 ms-2">Back to List</a>
            </div>
        </form>
        
        

        <div class="mt-3">
            <button class="btn btn-outline-dark btn-sm px-4" type="button" data-bs-toggle="collapse" data-bs-target="#clientAddress" aria-expanded="false" aria-controls="clientAddress">
                Show/Hide Address
            </button>
        </div>

        <div id="clientAddress" class="collapse mt-3">
            @if (Model.HasAddress)
            {
                <div class="card card-body">
                    <div class="row g-2 small">
                        <div class="col-md-6"><span class="text-muted">Country:</span> @Model.AddressData.Country</div>
                        <div class="col-md-6"><span class="text-muted">Region:</span> @Model.AddressData.Region</div>
                        <div class="col-md-6"><span class="text-muted">Area:</span> @Model.AddressData.Area</div>
                        <div class="col-md-6"><span class="text-muted">City:</span> @Model.AddressData.City</div>
                        <div class="col-md-12"><span class="text-muted">Street:</span> @Model.AddressData.Street</div>
                        <div class="col-md-4"><span class="text-muted">Building:</span> @Model.AddressData.Building</div>
                        <div class="col-md-4"><span class="text-muted">Apartment:</span> @Model.AddressData.Apartment</div>
                        <div class="col-md-4"><span class="text-muted">Entrance:</span> @Model.AddressData.Entrance</div>
                        <div class="col-md-12"><span class="text-muted">Room:</span> @Model.AddressData.Room</div>
                    </div>
                </div>
            }
            else
            {
                <div class="alert alert-light small mb-0">
                    Address not set yet. Use "Manage Address" to add one.
                </div>
            }
        </div>
    </section>
</main>
